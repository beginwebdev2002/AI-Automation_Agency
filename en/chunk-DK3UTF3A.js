import{a as $}from"./chunk-GKH7LAPC.js";import{b as L}from"./chunk-ZUSBWXLF.js";import{$a as n,Ia as N,N as p,Pb as Q,Ra as M,S,Sa as r,T as P,Ta as u,Va as b,Wa as v,ab as a,bb as C,cb as U,da as _,db as x,eb as s,gb as A,hb as c,mb as T,nb as g,ob as y,pb as f,va as l}from"./chunk-SUHW4BGF.js";var R=(i,o)=>o.value;function h(i,o){i&1&&C(0,"div",18);}function I(i,o){if(i&1){let e=U();n(0,"button",15),A("click",function(){let d=S(e).$implicit,E=c();return P(E.selectedCategory.set(d.value));}),n(1,"span",16),g(2),a(),n(3,"div",17),r(4,h,1,0,"div",18),a()();}if(i&2){let e=o.$implicit,t=c();T("ring-2",t.selectedCategory()===e.value)("ring-medical-rose-500",t.selectedCategory()===e.value),M("aria-checked",t.selectedCategory()===e.value),l(2),y(e.label),l(),T("bg-medical-rose-500",t.selectedCategory()===e.value)("border-gray-300",t.selectedCategory()!==e.value),l(),u(t.selectedCategory()===e.value?4:-1);}}function w(i,o){if(i&1&&(n(0,"div",12),g(1),a()),i&2){let e=c();l(),f(" ",e.errorMessage()," ");}}function O(i,o){i&1&&(n(0,"span"),s(1,2),a());}function D(i,o){i&1&&(n(0,"span"),s(1,3),a());}function F(i,o){if(i&1&&(n(0,"div",14)(1,"p",19),s(2,4),a(),n(3,"p",20),g(4),a()()),i&2){let e,t=c();l(4),f("#",(e=t.ticket())==null?null:e.sequenceNumber);}}var k=class i{categories=[{value:"Laser",label:"Laser"},{value:"Botox",label:"Botox"},{value:"Facials",label:"Facials"},{value:"Consultation",label:"Consultation"}];selectedCategory=_("");isLoading=_(!1);ticket=_(null);errorMessage=_("");http=p(L);configService=p($);joinQueue(){if(!this.selectedCategory())return;this.isLoading.set(!0),this.errorMessage.set("");let o=this.configService.get("BACKEND_URL_ONLINE")+"/queue";this.http.post(o,{serviceCategory:this.selectedCategory()}).subscribe({next:e=>{this.ticket.set(e),this.isLoading.set(!1);},error:()=>{this.errorMessage.set("Failed to join queue. Please try again."),this.isLoading.set(!1);}});}static ɵfac=function(e){return new(e||i)();};static ɵcmp=N({type:i,selectors:[["app-take-queue"]],decls:15,vars:5,consts:()=>{let o;o="Welcome to AAA Cosmetics";let e;e="Please select a service to join the queue";let t;t="TAKE TICKET";let d;d="Processing...";let E;return E="You are in the queue!",[o,e,t,d,E,[1,"min-h-screen","bg-medical-rose-50","flex","flex-col","items-center","justify-center","p-6"],[1,"absolute","top-4","right-4"],[1,"bg-white","p-8","rounded-3xl","shadow-xl","max-w-sm","w-full","text-center"],[1,"text-2xl","font-serif","text-medical-rose-900","mb-2"],["id","service-prompt",1,"text-gray-500","mb-8"],["role","radiogroup","aria-labelledby","service-prompt",1,"space-y-3","mb-8"],["role","radio",1,"w-full","p-4","rounded-xl","bg-gray-50","hover:bg-medical-rose-50","transition-all","text-left","flex","justify-between","items-center","group",3,"ring-2","ring-medical-rose-500"],["role","alert",1,"mb-4","p-3","bg-red-50","text-red-700","rounded-lg","text-sm","border","border-red-200"],[1,"w-full","bg-medical-rose-600","text-white","py-4","rounded-xl","font-bold","shadow-lg","active:scale-95","disabled:opacity-50","disabled:scale-100","transition-all",3,"click","disabled"],["role","status","aria-live","polite",1,"mt-6","p-4","bg-green-50","text-green-700","rounded-xl","border","border-green-200","animate-fade-in"],["role","radio",1,"w-full","p-4","rounded-xl","bg-gray-50","hover:bg-medical-rose-50","transition-all","text-left","flex","justify-between","items-center","group",3,"click"],[1,"font-medium","text-gray-700","group-hover:text-medical-rose-700"],[1,"w-5","h-5","rounded-full","border-2","flex","items-center","justify-center"],[1,"w-2","h-2","bg-white","rounded-full"],[1,"text-sm"],[1,"text-3xl","font-bold","mt-1"]];},template:function(e,t){e&1&&(n(0,"div",5),C(1,"div",6),n(2,"div",7)(3,"h2",8),s(4,0),a(),n(5,"p",9),s(6,1),a(),n(7,"div",10),b(8,I,5,11,"button",11,R),a(),r(10,w,2,1,"div",12),n(11,"button",13),A("click",function(){return t.joinQueue();}),r(12,O,2,0,"span"),r(13,D,2,0,"span"),a(),r(14,F,5,1,"div",14),a()()),e&2&&(l(8),v(t.categories),l(2),u(t.errorMessage()?10:-1),l(),x("disabled",!t.selectedCategory()||t.isLoading()),l(),u(t.isLoading()?-1:12),l(),u(t.isLoading()?13:-1),l(),u(t.ticket()?14:-1));},dependencies:[Q],encapsulation:2});};export{k as TakeQueueComponent};/**i18n:b82b23be7f7338acfddc6e87193068a65d480bfebda2e4ddab7b7ca5af6f2821*/