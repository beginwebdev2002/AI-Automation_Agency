import{a as D}from"./chunk-5ADHOQEW.js";import{a as I}from"./chunk-LLPFTJ5J.js";import{Da as C,Ha as h,Na as x,Oa as t,Pa as i,Ra as g,S as c,Sa as b,T as u,Ta as s,Ua as S,Va as n,Wa as d,Xa as v,ca as f,qa as r,rb as y,sb as w,ub as E,ya as _}from"./chunk-UIWLMSS7.js";function A(a,o){if(a&1){let e=g();t(0,"button",24),b("click",function(){c(e);let m=s().$implicit,p=s();return u(p.updateStatus(m._id,"in-progress"))}),n(1," Call "),i()}}function k(a,o){if(a&1){let e=g();t(0,"button",25),b("click",function(){c(e);let m=s().$implicit,p=s();return u(p.updateStatus(m._id,"completed"))}),n(1," Complete "),i()}}function T(a,o){if(a&1){let e=g();t(0,"tr")(1,"td",17),n(2),i(),t(3,"td",14),n(4),i(),t(5,"td",14)(6,"span",18),n(7),i()(),t(8,"td",14)(9,"span",19),n(10),i()(),t(11,"td",20),h(12,A,2,0,"button",21)(13,k,2,0,"button",22),t(14,"button",23),b("click",function(){let m=c(e).$implicit,p=s();return u(p.updateStatus(m._id,"cancelled"))}),n(15," Cancel "),i()()()}if(a&2){let e=o.$implicit;r(2),d(e.sequenceNumber),r(2),d(e.firstName),r(3),d(e.serviceCategory),r(2),S("bg-yellow-100",e.status==="waiting")("text-yellow-800",e.status==="waiting")("bg-blue-100",e.status==="in-progress")("text-blue-800",e.status==="in-progress"),r(),v(" ",e.status," "),r(2),x("ngIf",e.status==="waiting"),r(),x("ngIf",e.status==="in-progress")}}var N=class a{constructor(o,e){this.http=o;this.configService=e}stats=f({totalClients:124,revenue:15400});queue=f([]);ngOnInit(){this.fetchQueue()}fetchQueue(){let o=this.configService.get("BACKEND_URL_ONLINE")+"/queue";this.http.get(o).subscribe(e=>this.queue.set(e))}updateStatus(o,e){let l=this.configService.get("BACKEND_URL_ONLINE")+`/queue/${o}/status`;this.http.patch(l,{status:e}).subscribe(()=>{this.fetchQueue()})}static \u0275fac=function(e){return new(e||a)(_(I),_(D))};static \u0275cmp=C({type:a,selectors:[["app-admin-dashboard"]],decls:39,vars:4,consts:[[1,"min-h-screen","bg-gray-100","p-6"],[1,"text-3xl","font-bold","text-gray-800","mb-8"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","mb-8"],[1,"bg-white","p-6","rounded-2xl","shadow-sm"],[1,"text-gray-500","text-sm","font-medium","uppercase"],[1,"text-3xl","font-bold","text-gray-900","mt-2"],[1,"text-3xl","font-bold","text-green-600","mt-2"],[1,"text-3xl","font-bold","text-blue-600","mt-2"],[1,"bg-white","rounded-2xl","shadow-sm","overflow-hidden"],[1,"p-6","border-b","border-gray-100"],[1,"text-xl","font-bold","text-gray-800"],[1,"overflow-x-auto"],[1,"w-full","text-left"],[1,"bg-gray-50","text-gray-500","text-xs","uppercase"],[1,"px-6","py-4"],[1,"divide-y","divide-gray-100"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","font-bold","text-gray-900"],[1,"px-2","py-1","bg-gray-100","rounded","text-xs","font-medium"],[1,"px-2","py-1","rounded-full","text-xs","font-bold","uppercase"],[1,"px-6","py-4","flex","gap-2"],["class","px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",3,"click",4,"ngIf"],["class","px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-sm",3,"click",4,"ngIf"],[1,"px-3","py-1","bg-red-100","text-red-600","rounded","hover:bg-red-200","text-sm",3,"click"],[1,"px-3","py-1","bg-blue-600","text-white","rounded","hover:bg-blue-700","text-sm",3,"click"],[1,"px-3","py-1","bg-green-600","text-white","rounded","hover:bg-green-700","text-sm",3,"click"]],template:function(e,l){e&1&&(t(0,"div",0)(1,"h1",1),n(2,"Admin Dashboard"),i(),t(3,"div",2)(4,"div",3)(5,"h3",4),n(6,"Total Clients"),i(),t(7,"p",5),n(8),i()(),t(9,"div",3)(10,"h3",4),n(11,"Telegram Revenue"),i(),t(12,"p",6),n(13),i()(),t(14,"div",3)(15,"h3",4),n(16,"Active Queue"),i(),t(17,"p",7),n(18),i()()(),t(19,"div",8)(20,"div",9)(21,"h2",10),n(22,"Queue Management"),i()(),t(23,"div",11)(24,"table",12)(25,"thead",13)(26,"tr")(27,"th",14),n(28,"#"),i(),t(29,"th",14),n(30,"Name"),i(),t(31,"th",14),n(32,"Service"),i(),t(33,"th",14),n(34,"Status"),i(),t(35,"th",14),n(36,"Actions"),i()()(),t(37,"tbody",15),h(38,T,16,14,"tr",16),i()()()()()),e&2&&(r(8),d(l.stats().totalClients),r(5),v("",l.stats().revenue," TJS"),r(5),d(l.queue().length),r(20),x("ngForOf",l.queue()))},dependencies:[E,y,w],encapsulation:2})};export{N as AdminDashboardComponent};
/**i18n:53b94fc8a584fb0d28b70d52d4e35388c882dec0cc47e2f71218c9ceef5b3998*/
