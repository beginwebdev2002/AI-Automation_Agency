import{Ia as T,Qb as M,S as l,T as m,Ta as x,U as y,Ua as C,Va as w,Wa as E,Xa as b,ab as o,bb as r,cb as k,da as p,db as u,eb as S,fa as N,gb as g,hb as d,mb as v,nb as s,ob as P,pb as _,va as c,yb as h}from"./chunk-Q7BXSP6D.js";var A=(n,t)=>t.id;function O(n,t){if(n&1){let e=u();o(0,"button",9),g("click",function(){let a=l(e).$implicit,f=d();return m(f.selectedCategory.set(a));}),s(1),r();}if(n&2){let e=t.$implicit,i=d();v("bg-rose-600",i.selectedCategory()===e)("text-white",i.selectedCategory()===e)("bg-white",i.selectedCategory()!==e)("text-gray-700",i.selectedCategory()!==e),c(),_(" ",e," ");}}function I(n,t){n&1&&(o(0,"div",13),y(),o(1,"svg",14),k(2,"path",15),r()());}function $(n,t){if(n&1){let e=u();o(0,"div",10),g("click",function(){let a=l(e).$implicit,f=d();return m(f.toggleService(a));}),o(1,"div")(2,"h3",11),s(3),r(),o(4,"p",12),s(5),r()(),x(6,I,3,0,"div",13),r();}if(n&2){let e=t.$implicit,i=d();v("border-rose-500",i.isSelected(e)),c(3),P(e.name),c(2),_("",e.price," TJS"),c(),C(i.isSelected(e)?6:-1);}}function D(n,t){if(n&1){let e=u();o(0,"div",8)(1,"button",16),g("click",function(){l(e);let a=d();return m(a.confirmBooking());}),o(2,"span"),S(3,1),r(),o(4,"span"),s(5),r()()();}if(n&2){let e=d();c(5),_("",e.totalPrice()," TJS");}}var B=class n{categories=["\u0412\u0441\u0435","\u041B\u0430\u0437\u0435\u0440","\u0411\u043E\u0442\u043E\u043A\u0441","\u0423\u0445\u043E\u0434 \u0437\u0430 \u043B\u0438\u0446\u043E\u043C"];selectedCategory=p("\u0412\u0441\u0435");services=p([{id:"1",name:"\u041B\u0430\u0437\u0435\u0440 \u0432\u0441\u0435\u0433\u043E \u043B\u0438\u0446\u0430",category:"\u041B\u0430\u0437\u0435\u0440",price:250},{id:"2",name:"\u041B\u0430\u0437\u0435\u0440 \u043F\u043E\u0434\u043C\u044B\u0448\u0435\u043A",category:"\u041B\u0430\u0437\u0435\u0440",price:100},{id:"3",name:"\u0411\u043E\u0442\u043E\u043A\u0441 \u043B\u0431\u0430",category:"\u0411\u043E\u0442\u043E\u043A\u0441",price:1200},{id:"4",name:"\u0427\u0438\u0441\u0442\u043A\u0430 HydraFacial",category:"\u0423\u0445\u043E\u0434 \u0437\u0430 \u043B\u0438\u0446\u043E\u043C",price:400}]);cart=p([]);filteredServices=h(()=>{let t=this.selectedCategory();return t==="\u0412\u0441\u0435"?this.services():this.services().filter(e=>e.category===t);});totalPrice=h(()=>this.cart().reduce((t,e)=>t+e.price,0));constructor(){N(()=>{typeof Telegram<"u"&&Telegram.WebApp&&(this.cart().length>0?(Telegram.WebApp.MainButton.setText("PAY "+this.totalPrice()+" TJS"),Telegram.WebApp.MainButton.show(),Telegram.WebApp.MainButton.onClick(this.confirmBooking.bind(this))):Telegram.WebApp.MainButton.hide());});}toggleService(t){this.cart.update(e=>e.find(a=>a.id===t.id)?e.filter(a=>a.id!==t.id):[...e,t]);}isSelected(t){return this.cart().some(e=>e.id===t.id);}confirmBooking(){let t={items:this.cart(),total:this.totalPrice()};typeof Telegram<"u"&&Telegram.WebApp?Telegram.WebApp.sendData(JSON.stringify(t)):(console.log("Sending data to bot:",t),alert("Data sent! (Check console)"));}static ɵfac=function(e){return new(e||n)();};static ɵcmp=T({type:n,selectors:[["app-booking"]],decls:10,vars:1,consts:()=>{let t;t="Select Services";let e;return e="Confirm Booking",[t,e,[1,"p-4","bg-gray-50","min-h-screen","pb-24"],[1,"text-2xl","font-bold","text-rose-700","mb-4"],[1,"flex","gap-2","overflow-x-auto","mb-6","pb-2"],[1,"px-4","py-2","rounded-full","shadow-sm","whitespace-nowrap","transition-colors",3,"bg-rose-600","text-white","bg-white","text-gray-700"],[1,"space-y-3"],[1,"bg-white","p-4","rounded-xl","shadow-sm","border-2","border-transparent","transition-all","cursor-pointer","flex","justify-between","items-center",3,"border-rose-500"],[1,"fixed","bottom-4","left-4","right-4"],[1,"px-4","py-2","rounded-full","shadow-sm","whitespace-nowrap","transition-colors",3,"click"],[1,"bg-white","p-4","rounded-xl","shadow-sm","border-2","border-transparent","transition-all","cursor-pointer","flex","justify-between","items-center",3,"click"],[1,"font-semibold","text-gray-800"],[1,"text-rose-600","font-medium"],[1,"text-rose-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"w-full","bg-rose-600","text-white","py-4","rounded-xl","font-bold","shadow-lg","flex","justify-between","px-6","items-center",3,"click"]];},template:function(e,i){e&1&&(o(0,"div",2)(1,"h1",3),S(2,0),r(),o(3,"div",4),E(4,O,2,9,"button",5,w),r(),o(6,"div",6),E(7,$,7,5,"div",7,A),r(),x(9,D,6,1,"div",8),r()),e&2&&(c(4),b(i.categories),c(3),b(i.filteredServices()),c(2),C(i.cart().length>0?9:-1));},dependencies:[M],encapsulation:2});};export{B as BookingComponent};/**i18n:b82b23be7f7338acfddc6e87193068a65d480bfebda2e4ddab7b7ca5af6f2821*/