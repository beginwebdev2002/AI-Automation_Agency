import{a as I}from"./chunk-LLPFTJ5J.js";import{Da as y,Ha as h,Na as x,Oa as e,Pa as n,Ra as g,S as u,Sa as b,T as c,Ta as s,Ua as C,Va as i,Wa as d,Xa as _,ca as f,qa as r,rb as S,sb as w,ub as E,ya as v}from"./chunk-UIWLMSS7.js";function A(o,a){if(o&1){let t=g();e(0,"button",24),b("click",function(){u(t);let m=s().$implicit,p=s();return c(p.updateStatus(m._id,"in-progress"))}),i(1," Call "),n()}}function k(o,a){if(o&1){let t=g();e(0,"button",25),b("click",function(){u(t);let m=s().$implicit,p=s();return c(p.updateStatus(m._id,"completed"))}),i(1," Complete "),n()}}function T(o,a){if(o&1){let t=g();e(0,"tr")(1,"td",17),i(2),n(),e(3,"td",14),i(4),n(),e(5,"td",14)(6,"span",18),i(7),n()(),e(8,"td",14)(9,"span",19),i(10),n()(),e(11,"td",20),h(12,A,2,0,"button",21)(13,k,2,0,"button",22),e(14,"button",23),b("click",function(){let m=u(t).$implicit,p=s();return c(p.updateStatus(m._id,"cancelled"))}),i(15," Cancel "),n()()()}if(o&2){let t=a.$implicit;r(2),d(t.sequenceNumber),r(2),d(t.firstName),r(3),d(t.serviceCategory),r(2),C("bg-yellow-100",t.status==="waiting")("text-yellow-800",t.status==="waiting")("bg-blue-100",t.status==="in-progress")("text-blue-800",t.status==="in-progress"),r(),_(" ",t.status," "),r(2),x("ngIf",t.status==="waiting"),r(),x("ngIf",t.status==="in-progress")}}var D=class o{constructor(a){this.http=a}stats=f({totalClients:124,revenue:15400});queue=f([]);ngOnInit(){this.fetchQueue()}fetchQueue(){this.http.get("/api/queue").subscribe(a=>this.queue.set(a))}updateStatus(a,t){this.http.patch(`/api/queue/${a}/status`,{status:t}).subscribe(()=>{this.fetchQueue()})}static \u0275fac=function(t){return new(t||o)(v(I))};static \u0275cmp=y({type:o,selectors:[["app-admin-dashboard"]],decls:39,vars:4,consts:[[1,"min-h-screen","bg-gray-100","p-6"],[1,"text-3xl","font-bold","text-gray-800","mb-8"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","mb-8"],[1,"bg-white","p-6","rounded-2xl","shadow-sm"],[1,"text-gray-500","text-sm","font-medium","uppercase"],[1,"text-3xl","font-bold","text-gray-900","mt-2"],[1,"text-3xl","font-bold","text-green-600","mt-2"],[1,"text-3xl","font-bold","text-blue-600","mt-2"],[1,"bg-white","rounded-2xl","shadow-sm","overflow-hidden"],[1,"p-6","border-b","border-gray-100"],[1,"text-xl","font-bold","text-gray-800"],[1,"overflow-x-auto"],[1,"w-full","text-left"],[1,"bg-gray-50","text-gray-500","text-xs","uppercase"],[1,"px-6","py-4"],[1,"divide-y","divide-gray-100"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","font-bold","text-gray-900"],[1,"px-2","py-1","bg-gray-100","rounded","text-xs","font-medium"],[1,"px-2","py-1","rounded-full","text-xs","font-bold","uppercase"],[1,"px-6","py-4","flex","gap-2"],["class","px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",3,"click",4,"ngIf"],["class","px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-sm",3,"click",4,"ngIf"],[1,"px-3","py-1","bg-red-100","text-red-600","rounded","hover:bg-red-200","text-sm",3,"click"],[1,"px-3","py-1","bg-blue-600","text-white","rounded","hover:bg-blue-700","text-sm",3,"click"],[1,"px-3","py-1","bg-green-600","text-white","rounded","hover:bg-green-700","text-sm",3,"click"]],template:function(t,l){t&1&&(e(0,"div",0)(1,"h1",1),i(2,"Admin Dashboard"),n(),e(3,"div",2)(4,"div",3)(5,"h3",4),i(6,"Total Clients"),n(),e(7,"p",5),i(8),n()(),e(9,"div",3)(10,"h3",4),i(11,"Telegram Revenue"),n(),e(12,"p",6),i(13),n()(),e(14,"div",3)(15,"h3",4),i(16,"Active Queue"),n(),e(17,"p",7),i(18),n()()(),e(19,"div",8)(20,"div",9)(21,"h2",10),i(22,"Queue Management"),n()(),e(23,"div",11)(24,"table",12)(25,"thead",13)(26,"tr")(27,"th",14),i(28,"#"),n(),e(29,"th",14),i(30,"Name"),n(),e(31,"th",14),i(32,"Service"),n(),e(33,"th",14),i(34,"Status"),n(),e(35,"th",14),i(36,"Actions"),n()()(),e(37,"tbody",15),h(38,T,16,14,"tr",16),n()()()()()),t&2&&(r(8),d(l.stats().totalClients),r(5),_("",l.stats().revenue," TJS"),r(5),d(l.queue().length),r(20),x("ngForOf",l.queue()))},dependencies:[E,S,w],encapsulation:2})};export{D as AdminDashboardComponent};
/**i18n:53b94fc8a584fb0d28b70d52d4e35388c882dec0cc47e2f71218c9ceef5b3998*/
