import{a as H}from"./chunk-YCTFJNEV.js";import{b as B}from"./chunk-YVMLCKK6.js";import{Da as P,Ia as L,Qb as F,S as m,T as S,Ta as D,Ua as g,Wa as h,Xa as v,ab as t,bb as n,da as c,db as N,eb as i,gb as M,hb as E,mb as y,nb as r,ob as s,pb as C,va as A}from"./chunk-Q7BXSP6D.js";var w=(l,_)=>_._id;function G(l,_){if(l&1){let e=N();t(0,"button",38),M("click",function(){m(e);let d=E().$implicit,a=E();return S(a.updateStatus(d._id,"in-progress"));}),i(1,12),n();}}function X(l,_){if(l&1){let e=N();t(0,"button",39),M("click",function(){m(e);let d=E().$implicit,a=E();return S(a.updateStatus(d._id,"completed"));}),i(1,13),n();}}function z(l,_){if(l&1){let e=N();t(0,"tr")(1,"td",31),r(2),n(),t(3,"td",29),r(4),n(),t(5,"td",29)(6,"span",32),r(7),n()(),t(8,"td",29)(9,"span",33),r(10),n()(),t(11,"td",34),D(12,G,2,0,"button",35),D(13,X,2,0,"button",36),t(14,"button",37),M("click",function(){let d=m(e).$implicit,a=E();return S(a.updateStatus(d._id,"cancelled"));}),i(15,11),n()()();}if(l&2){let e=_.$implicit;A(2),s(e.sequenceNumber),A(2),s(e.firstName),A(3),s(e.serviceCategory),A(2),y("bg-yellow-100",e.status==="waiting")("text-yellow-800",e.status==="waiting")("bg-blue-100",e.status==="in-progress")("text-blue-800",e.status==="in-progress"),A(),C(" ",e.status," "),A(2),g(e.status==="waiting"?12:-1),A(),g(e.status==="in-progress"?13:-1);}}var U=class l{constructor(_,e){this.http=_;this.configService=e;}stats=c({totalClients:124,revenue:15400});queue=c([]);ngOnInit(){this.fetchQueue();}fetchQueue(){let _=this.configService.get("BACKEND_URL_ONLINE")+"/queue";this.http.get(_).subscribe(e=>this.queue.set(e));}updateStatus(_,e){let u=this.configService.get("BACKEND_URL_ONLINE")+`/queue/${_}/status`;this.http.patch(u,{status:e}).subscribe(()=>{this.fetchQueue();});}static ɵfac=function(e){return new(e||l)(P(B),P(H));};static ɵcmp=L({type:l,selectors:[["app-admin-dashboard"]],decls:43,vars:3,consts:()=>{let _;_="\u041F\u0430\u043D\u0435\u043B\u0438 \u043C\u0430\u044A\u043C\u0443\u0440";let e;e="\u04B6\u0430\u043C\u0438 \u043C\u0438\u0437\u043E\u04B7\u043E\u043D";let u;u="\u0414\u0430\u0440\u043E\u043C\u0430\u0434\u0438 Telegram";let d;d="TJS";let a;a="\u041D\u0430\u0432\u0431\u0430\u0442\u0438 \u0444\u0430\u044A\u043E\u043B";let T;T="\u0418\u0434\u043E\u0440\u0430\u043A\u0443\u043D\u0438\u0438 \u043D\u0430\u0432\u0431\u0430\u0442";let p;p="#";let I;I="\u041D\u043E\u043C";let R;R="\u0425\u0438\u0437\u043C\u0430\u0442\u0440\u0430\u0441\u043E\u043D\u04E3";let f;f="\u04B2\u043E\u043B\u0430\u0442";let O;O="\u0410\u043C\u0430\u043B\u04B3\u043E";let x;x=" \u0411\u0435\u043A\u043E\u0440 \u043A\u0430\u0440\u0434\u0430\u043D ";let b;b=" \u0414\u0430\u044A\u0432\u0430\u0442 \u043A\u0430\u0440\u0434\u0430\u043D ";let $;return $=" \u0410\u043D\u04B7\u043E\u043C \u0434\u043E\u0434\u0430\u043D ",[_,e,u,d,a,T,p,I,R,f,O,x,b,$,[1,"min-h-screen","bg-gray-100","p-6"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","mb-8"],[1,"bg-white","p-6","rounded-2xl","shadow-sm"],[1,"text-gray-500","text-sm","font-medium","uppercase"],[1,"text-3xl","font-bold","text-gray-900","mt-2"],[1,"text-3xl","font-bold","text-green-600","mt-2"],[1,"text-3xl","font-bold","text-blue-600","mt-2"],[1,"bg-white","rounded-2xl","shadow-sm","overflow-hidden"],[1,"p-6","border-b","border-gray-100"],[1,"text-xl","font-bold","text-gray-800"],[1,"overflow-x-auto"],[1,"w-full","text-left"],[1,"bg-gray-50","text-gray-500","text-xs","uppercase"],[1,"px-6","py-4"],[1,"divide-y","divide-gray-100"],[1,"px-6","py-4","font-bold","text-gray-900"],[1,"px-2","py-1","bg-gray-100","rounded","text-xs","font-medium"],[1,"px-2","py-1","rounded-full","text-xs","font-bold","uppercase"],[1,"px-6","py-4","flex","gap-2"],[1,"px-3","py-1","bg-blue-600","text-white","rounded","hover:bg-blue-700","text-sm"],[1,"px-3","py-1","bg-green-600","text-white","rounded","hover:bg-green-700","text-sm"],[1,"px-3","py-1","bg-red-100","text-red-600","rounded","hover:bg-red-200","text-sm",3,"click"],[1,"px-3","py-1","bg-blue-600","text-white","rounded","hover:bg-blue-700","text-sm",3,"click"],[1,"px-3","py-1","bg-green-600","text-white","rounded","hover:bg-green-700","text-sm",3,"click"]];},template:function(e,u){e&1&&(t(0,"div",14)(1,"div",15)(2,"h1",16),i(3,0),n()(),t(4,"div",17)(5,"div",18)(6,"h3",19),i(7,1),n(),t(8,"p",20),r(9),n()(),t(10,"div",18)(11,"h3",19),i(12,2),n(),t(13,"p",21),r(14),t(15,"span"),i(16,3),n()()(),t(17,"div",18)(18,"h3",19),i(19,4),n(),t(20,"p",22),r(21),n()()(),t(22,"div",23)(23,"div",24)(24,"h2",25),i(25,5),n()(),t(26,"div",26)(27,"table",27)(28,"thead",28)(29,"tr")(30,"th",29),i(31,6),n(),t(32,"th",29),i(33,7),n(),t(34,"th",29),i(35,8),n(),t(36,"th",29),i(37,9),n(),t(38,"th",29),i(39,10),n()()(),t(40,"tbody",30),h(41,z,16,14,"tr",null,w),n()()()()()),e&2&&(A(9),s(u.stats().totalClients),A(5),C("",u.stats().revenue," "),A(7),s(u.queue().length),A(20),v(u.queue()));},dependencies:[F],encapsulation:2});};export{U as AdminDashboardComponent};/**i18n:b82b23be7f7338acfddc6e87193068a65d480bfebda2e4ddab7b7ca5af6f2821*/