import{a as E}from"./chunk-LLPFTJ5J.js";import{Da as _,Ha as c,Na as s,Oa as n,Pa as o,Qa as y,Ra as C,S as f,Sa as u,T as x,Ta as m,Ua as p,Va as l,Wa as v,Xa as h,ca as d,qa as r,rb as k,sb as w,ub as T,ya as b}from"./chunk-UIWLMSS7.js";function S(i,a){i&1&&y(0,"div",13)}function j(i,a){if(i&1){let e=C();n(0,"button",9),u("click",function(){let g=f(e).$implicit,Q=m();return x(Q.selectedCategory.set(g))}),n(1,"span",10),l(2),o(),n(3,"div",11),c(4,S,1,0,"div",12),o()()}if(i&2){let e=a.$implicit,t=m();p("ring-2",t.selectedCategory()===e)("ring-medical-rose-500",t.selectedCategory()===e),r(2),v(e),r(),p("bg-medical-rose-500",t.selectedCategory()===e)("border-gray-300",t.selectedCategory()!==e),r(),s("ngIf",t.selectedCategory()===e)}}function L(i,a){i&1&&(n(0,"span"),l(1,"TAKE A NUMBER"),o())}function N(i,a){i&1&&(n(0,"span"),l(1,"Processing..."),o())}function q(i,a){if(i&1&&(n(0,"div",14)(1,"p",15),l(2,"You are in queue!"),o(),n(3,"p",16),l(4),o()()),i&2){let e,t=m();r(4),h("#",(e=t.ticket())==null?null:e.sequenceNumber)}}var I=class i{constructor(a){this.http=a}categories=["Laser","Botox","Facials","Consultation"];selectedCategory=d("");isLoading=d(!1);ticket=d(null);joinQueue(){this.selectedCategory()&&(this.isLoading.set(!0),this.http.post("/api/queue",{serviceCategory:this.selectedCategory()}).subscribe({next:a=>{this.ticket.set(a),this.isLoading.set(!1)},error:()=>{alert("Failed to join queue. Please try again."),this.isLoading.set(!1)}}))}static \u0275fac=function(e){return new(e||i)(b(E))};static \u0275cmp=_({type:i,selectors:[["app-take-queue"]],decls:12,vars:5,consts:[[1,"min-h-screen","bg-medical-rose-50","flex","flex-col","items-center","justify-center","p-6"],[1,"bg-white","p-8","rounded-3xl","shadow-xl","max-w-sm","w-full","text-center"],[1,"text-2xl","font-serif","text-medical-rose-900","mb-2"],[1,"text-gray-500","mb-8"],[1,"space-y-3","mb-8"],["class","w-full p-4 rounded-xl bg-gray-50 hover:bg-medical-rose-50 transition-all text-left flex justify-between items-center group",3,"ring-2","ring-medical-rose-500","click",4,"ngFor","ngForOf"],[1,"w-full","bg-medical-rose-600","text-white","py-4","rounded-xl","font-bold","shadow-lg","active:scale-95","disabled:opacity-50","disabled:scale-100","transition-all",3,"click","disabled"],[4,"ngIf"],["class","mt-6 p-4 bg-green-50 text-green-700 rounded-xl border border-green-200 animate-fade-in",4,"ngIf"],[1,"w-full","p-4","rounded-xl","bg-gray-50","hover:bg-medical-rose-50","transition-all","text-left","flex","justify-between","items-center","group",3,"click"],[1,"font-medium","text-gray-700","group-hover:text-medical-rose-700"],[1,"w-5","h-5","rounded-full","border-2","flex","items-center","justify-center"],["class","w-2 h-2 bg-white rounded-full",4,"ngIf"],[1,"w-2","h-2","bg-white","rounded-full"],[1,"mt-6","p-4","bg-green-50","text-green-700","rounded-xl","border","border-green-200","animate-fade-in"],[1,"text-sm"],[1,"text-3xl","font-bold","mt-1"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),l(3,"Welcome to AAA Cosmetics"),o(),n(4,"p",3),l(5,"Please select a service to join the queue"),o(),n(6,"div",4),c(7,j,5,10,"button",5),o(),n(8,"button",6),u("click",function(){return t.joinQueue()}),c(9,L,2,0,"span",7)(10,N,2,0,"span",7),o(),c(11,q,5,1,"div",8),o()()),e&2&&(r(7),s("ngForOf",t.categories),r(),s("disabled",!t.selectedCategory()||t.isLoading()),r(),s("ngIf",!t.isLoading()),r(),s("ngIf",t.isLoading()),r(),s("ngIf",t.ticket()))},dependencies:[T,k,w],encapsulation:2})};export{I as TakeQueueComponent};
/**i18n:53b94fc8a584fb0d28b70d52d4e35388c882dec0cc47e2f71218c9ceef5b3998*/
