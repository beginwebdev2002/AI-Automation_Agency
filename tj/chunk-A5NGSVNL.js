import{a as I}from"./chunk-E7ZAZG5J.js";import{b as $}from"./chunk-YVMLCKK6.js";import{b as R}from"./chunk-SKTGOXT5.js";import{$a as f,Da as p,Ia as M,Ma as v,Ob as Q,Qb as L,S as P,T as N,Ta as _,Ua as c,Wa as b,Xa as U,Ya as C,Za as o,_a as r,da as s,db as x,eb as l,fb as A,hb as d,mb as T,nb as m,ob as y,pb as S,va as a}from"./chunk-Q7BXSP6D.js";var k=(i,n)=>n.value;function w(i,n){i&1&&f(0,"div",18);}function O(i,n){if(i&1){let e=x();o(0,"button",15),A("click",function(){let u=P(e).$implicit,E=d();return N(E.selectedCategory.set(u.value));}),o(1,"span",16),m(2),r(),o(3,"div",17),_(4,w,1,0,"div",18),r()();}if(i&2){let e=n.$implicit,t=d();T("ring-2",t.selectedCategory()===e.value)("ring-medical-rose-500",t.selectedCategory()===e.value),a(2),y(e.label),a(),T("bg-medical-rose-500",t.selectedCategory()===e.value)("border-gray-300",t.selectedCategory()!==e.value),a(),c(t.selectedCategory()===e.value?4:-1);}}function D(i,n){if(i&1&&(o(0,"div",19),m(1),r()),i&2){let e=d();a(),S(" ",e.errorMessage()," ");}}function F(i,n){i&1&&(o(0,"span"),l(1,2),r());}function B(i,n){i&1&&(o(0,"span"),l(1,3),r());}function K(i,n){if(i&1&&(o(0,"div",14)(1,"p",20),l(2,4),r(),o(3,"p",21),m(4),r()()),i&2){let e,t=d();a(4),S("#",(e=t.ticket())==null?null:e.sequenceNumber);}}var h=class i{constructor(n,e){this.http=n;this.configService=e;}categories=[{value:"Laser",label:"\u041B\u0430\u0437\u0435\u0440"},{value:"Botox",label:"\u0411\u043E\u0442\u043E\u043A\u0441"},{value:"Facials",label:"\u041D\u0438\u0433\u043E\u04B3\u0443\u0431\u0438\u043D\u0438 \u0440\u04EF\u0439"},{value:"Consultation",label:"\u041C\u0430\u0448\u0432\u0430\u0440\u0430\u0442"}];selectedCategory=s("");isLoading=s(!1);ticket=s(null);errorMessage=s("");joinQueue(){if(!this.selectedCategory())return;this.isLoading.set(!0),this.errorMessage.set("");let n=this.configService.get("BACKEND_URL_ONLINE")+"/queue";this.http.post(n,{serviceCategory:this.selectedCategory()}).subscribe({next:e=>{this.ticket.set(e),this.isLoading.set(!1);},error:()=>{this.errorMessage.set("\u041D\u0430\u0432\u0431\u0430\u0442 \u0433\u0438\u0440\u0438\u0444\u0442\u0430\u043D \u043D\u0430\u0448\u0443\u0434. \u041B\u0443\u0442\u0444\u0430\u043D \u0434\u0443\u0431\u043E\u0440\u0430 \u043A\u04EF\u0448\u0438\u0448 \u043A\u0443\u043D\u0435\u0434."),this.isLoading.set(!1);}});}static ɵfac=function(e){return new(e||i)(p($),p(I));};static ɵcmp=M({type:i,selectors:[["app-take-queue"]],decls:16,vars:5,consts:()=>{let n;n="\u0425\u0443\u0448 \u043E\u043C\u0430\u0434\u0435\u0434 \u0431\u0430 AAA Cosmetics";let e;e="\u041B\u0443\u0442\u0444\u0430\u043D, \u0431\u0430\u0440\u043E\u0438 \u0433\u0438\u0440\u0438\u0444\u0442\u0430\u043D\u0438 \u043D\u0430\u0432\u0431\u0430\u0442 \u0445\u0438\u0437\u043C\u0430\u0442\u0440\u0430\u0441\u043E\u043D\u0438\u0440\u043E \u0438\u043D\u0442\u0438\u0445\u043E\u0431 \u043A\u0443\u043D\u0435\u0434";let t;t="\u0413\u0418\u0420\u0418\u0424\u0422\u0410\u041D\u0418 \u0422\u0410\u041B\u041E\u041D";let u;u="\u041A\u043E\u0440\u043A\u0430\u0440\u0434...";let E;return E="\u0428\u0443\u043C\u043E \u0434\u0430\u0440 \u043D\u0430\u0432\u0431\u0430\u0442 \u04B3\u0430\u0441\u0442\u0435\u0434!",[n,e,t,u,E,[1,"min-h-screen","bg-medical-rose-50","flex","flex-col","items-center","justify-center","p-6"],[1,"absolute","top-4","right-4"],[1,"bg-white","p-8","rounded-3xl","shadow-xl","max-w-sm","w-full","text-center"],[1,"text-2xl","font-serif","text-medical-rose-900","mb-2"],[1,"text-gray-500","mb-8"],[1,"space-y-3","mb-8"],[1,"w-full","p-4","rounded-xl","bg-gray-50","hover:bg-medical-rose-50","transition-all","text-left","flex","justify-between","items-center","group",3,"ring-2","ring-medical-rose-500"],["class","mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm border border-red-200","role","alert",4,"ngIf"],[1,"w-full","bg-medical-rose-600","text-white","py-4","rounded-xl","font-bold","shadow-lg","active:scale-95","disabled:opacity-50","disabled:scale-100","transition-all",3,"click","disabled"],[1,"mt-6","p-4","bg-green-50","text-green-700","rounded-xl","border","border-green-200","animate-fade-in"],[1,"w-full","p-4","rounded-xl","bg-gray-50","hover:bg-medical-rose-50","transition-all","text-left","flex","justify-between","items-center","group",3,"click"],[1,"font-medium","text-gray-700","group-hover:text-medical-rose-700"],[1,"w-5","h-5","rounded-full","border-2","flex","items-center","justify-center"],[1,"w-2","h-2","bg-white","rounded-full"],["role","alert",1,"mb-4","p-3","bg-red-50","text-red-700","rounded-lg","text-sm","border","border-red-200"],[1,"text-sm"],[1,"text-3xl","font-bold","mt-1"]];},template:function(e,t){e&1&&(o(0,"div",5)(1,"div",6),f(2,"app-language-switcher"),r(),o(3,"div",7)(4,"h2",8),l(5,0),r(),o(6,"p",9),l(7,1),r(),o(8,"div",10),b(9,O,5,10,"button",11,k),r(),v(11,D,2,1,"div",12),o(12,"button",13),A("click",function(){return t.joinQueue();}),_(13,F,2,0,"span"),_(14,B,2,0,"span"),r(),_(15,K,5,1,"div",14),r()()),e&2&&(a(9),U(t.categories),a(2),C("ngIf",t.errorMessage()),a(),C("disabled",!t.selectedCategory()||t.isLoading()),a(),c(t.isLoading()?-1:13),a(),c(t.isLoading()?14:-1),a(),c(t.ticket()?15:-1));},dependencies:[L,Q,R],encapsulation:2});};export{h as TakeQueueComponent};/**i18n:b82b23be7f7338acfddc6e87193068a65d480bfebda2e4ddab7b7ca5af6f2821*/