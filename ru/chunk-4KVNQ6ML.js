import{a as N,b as T,c as F,d as A}from"./chunk-U2Z5V2AT.js";import{a as L}from"./chunk-LLPFTJ5J.js";import{Da as x,Ha as b,Na as l,Oa as i,Pa as n,Qa as p,Sa as g,U as f,Ua as c,Va as r,Wa as v,Xa as y,Ya as w,Za as C,_a as M,ab as _,bb as D,ca as d,qa as a,rb as S,sb as k,tb as I,ub as E,ya as h}from"./chunk-UIWLMSS7.js";function B(o,s){if(o&1&&(i(0,"div",15)(1,"div",16),r(2),n(),i(3,"span",17),r(4),_(5,"date"),n()()),o&2){let e=s.$implicit;c("items-end",e.role==="user")("items-start",e.role==="bot"),a(),c("bg-medical-rose-500",e.role==="user")("text-white",e.role==="user")("bg-white",e.role==="bot")("text-gray-800",e.role==="bot"),a(),y(" ",e.text," "),a(2),v(D(5,14,e.time,"shortTime"))}}function H(o,s){o&1&&(i(0,"div",18),p(1,"div",19)(2,"div",20)(3,"div",21),n())}var P=class o{constructor(s){this.http=s}messages=d([{role:"bot",text:"Hello! I am your AI assistant. Ask me anything about our treatments.",time:new Date}]);newMessage="";isLoading=d(!1);sendMessage(){if(!this.newMessage.trim())return;let s=this.newMessage;this.messages.update(e=>[...e,{role:"user",text:s,time:new Date}]),this.newMessage="",this.isLoading.set(!0),this.http.post("/api/chat",{message:s}).subscribe({next:e=>{this.messages.update(t=>[...t,{role:"bot",text:e.response,time:new Date}]),this.isLoading.set(!1)},error:()=>{this.messages.update(e=>[...e,{role:"bot",text:"Sorry, I encountered an error.",time:new Date}]),this.isLoading.set(!1)}})}static \u0275fac=function(e){return new(e||o)(h(L))};static \u0275cmp=x({type:o,selectors:[["app-chat"]],decls:19,vars:4,consts:[[1,"flex","flex-col","h-screen","bg-medical-rose-50"],[1,"bg-white","p-4","shadow-sm","flex","items-center"],[1,"w-10","h-10","rounded-full","bg-medical-rose-100","flex","items-center","justify-center","mr-3"],[1,"text-2xl"],[1,"font-serif","text-lg","text-gray-900"],[1,"text-xs","text-green-500"],[1,"flex-1","overflow-y-auto","p-4","space-y-4"],["class","flex flex-col",3,"items-end","items-start",4,"ngFor","ngForOf"],["class","flex items-center space-x-2 text-gray-400 text-sm ml-2",4,"ngIf"],[1,"p-4","bg-white","border-t","border-gray-100"],[1,"flex","gap-2"],["placeholder","Ask about treatments...",1,"flex-1","bg-gray-50","border-0","rounded-xl","px-4","py-3","focus:ring-2","focus:ring-medical-rose-500","transition-all",3,"ngModelChange","keyup.enter","ngModel"],[1,"bg-medical-rose-500","text-white","p-3","rounded-xl","hover:bg-medical-rose-600","disabled:opacity-50","transition-colors",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"],[1,"flex","flex-col"],[1,"max-w-[80%]","p-3","rounded-2xl","shadow-sm","text-sm"],[1,"text-[10px]","text-gray-400","mt-1"],[1,"flex","items-center","space-x-2","text-gray-400","text-sm","ml-2"],[1,"w-2","h-2","bg-gray-400","rounded-full","animate-bounce"],[1,"w-2","h-2","bg-gray-400","rounded-full","animate-bounce","delay-75"],[1,"w-2","h-2","bg-gray-400","rounded-full","animate-bounce","delay-150"]],template:function(e,t){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),r(4,"\u{1F916}"),n()(),i(5,"div")(6,"h1",4),r(7,"Dr. Beauty AI"),n(),i(8,"p",5),r(9,"Online"),n()()(),i(10,"div",6),b(11,B,6,17,"div",7)(12,H,4,0,"div",8),n(),i(13,"div",9)(14,"div",10)(15,"input",11),M("ngModelChange",function(m){return C(t.newMessage,m)||(t.newMessage=m),m}),g("keyup.enter",function(){return t.sendMessage()}),n(),i(16,"button",12),g("click",function(){return t.sendMessage()}),f(),i(17,"svg",13),p(18,"path",14),n()()()()()),e&2&&(a(11),l("ngForOf",t.messages()),a(),l("ngIf",t.isLoading()),a(3),w("ngModel",t.newMessage),a(),l("disabled",!t.newMessage.trim()||t.isLoading()))},dependencies:[E,S,k,A,N,T,F,I],encapsulation:2})};export{P as ChatComponent};
/**i18n:53b94fc8a584fb0d28b70d52d4e35388c882dec0cc47e2f71218c9ceef5b3998*/
