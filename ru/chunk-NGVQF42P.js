import{a as C}from"./chunk-5ADHOQEW.js";import{a as _}from"./chunk-LLPFTJ5J.js";import{Da as v,Ha as p,Na as d,Oa as n,Pa as t,Ta as b,Va as a,Wa as l,Xa as c,ca as f,db as g,qa as o,rb as h,sb as y,ub as I,ya as u}from"./chunk-UIWLMSS7.js";function N(r,i){if(r&1&&(n(0,"div",11)(1,"div",12),a(2),t(),n(3,"div",13),a(4),t(),n(5,"div",14),a(6),t()()),r&2){let e,m,x,s=b();o(2),l((e=s.current())==null?null:e.sequenceNumber),o(2),l((m=s.current())==null?null:m.firstName),o(2),l((x=s.current())==null?null:x.serviceCategory)}}function S(r,i){r&1&&(n(0,"div",15),a(1," Waiting for next patient... "),t())}function E(r,i){if(r&1&&(n(0,"div",16)(1,"div",17)(2,"span",18),a(3),t(),n(4,"span",19),a(5),t()(),n(6,"span",20),a(7),t()()),r&2){let e=i.$implicit;o(3),c("#",e.sequenceNumber),o(2),l(e.firstName),o(2),c(" ",e.serviceCategory," ")}}function Q(r,i){r&1&&(n(0,"div",21),a(1," Queue is empty "),t())}var w=class r{constructor(i,e){this.http=i;this.configService=e}queue=f([]);current=g(()=>this.queue().find(i=>i.status==="in-progress"));waiting=g(()=>this.queue().filter(i=>i.status==="waiting"));ngOnInit(){this.fetchQueue(),setInterval(()=>this.fetchQueue(),5e3)}fetchQueue(){let i=this.configService.get("BACKEND_URL_ONLINE")+"/queue";this.http.get(i).subscribe(e=>{this.queue.set(e)})}static \u0275fac=function(e){return new(e||r)(u(_),u(C))};static \u0275cmp=v({type:r,selectors:[["app-queue-dashboard"]],decls:15,vars:4,consts:[[1,"min-h-screen","bg-gray-50","p-6"],[1,"text-4xl","font-serif","text-center","text-medical-rose-900","mb-10"],[1,"grid","md:grid-cols-2","gap-8","max-w-6xl","mx-auto"],[1,"bg-white","p-8","rounded-3xl","shadow-lg","border-l-8","border-medical-gold-500"],[1,"text-2xl","font-medium","text-gray-500","mb-6"],["class","text-center",4,"ngIf"],["class","text-center text-gray-400 py-10",4,"ngIf"],[1,"bg-white","p-8","rounded-3xl","shadow-sm"],[1,"space-y-4"],["class","flex justify-between items-center p-4 bg-gray-50 rounded-xl",4,"ngFor","ngForOf"],["class","text-center text-gray-400 py-4",4,"ngIf"],[1,"text-center"],[1,"text-9xl","font-bold","text-medical-rose-600","mb-4"],[1,"text-2xl","text-gray-800"],[1,"text-lg","text-medical-gold-600","uppercase","tracking-wider","mt-2"],[1,"text-center","text-gray-400","py-10"],[1,"flex","justify-between","items-center","p-4","bg-gray-50","rounded-xl"],[1,"flex","items-center","gap-4"],[1,"text-2xl","font-bold","text-gray-400"],[1,"font-medium","text-gray-700"],[1,"px-3","py-1","bg-white","rounded-full","text-xs","font-bold","text-gray-500","shadow-sm"],[1,"text-center","text-gray-400","py-4"]],template:function(e,m){e&1&&(n(0,"div",0)(1,"h1",1),a(2,"Live Queue"),t(),n(3,"div",2)(4,"div",3)(5,"h2",4),a(6,"Now Serving"),t(),p(7,N,7,3,"div",5)(8,S,2,0,"div",6),t(),n(9,"div",7)(10,"h2",4),a(11,"Up Next"),t(),n(12,"div",8),p(13,E,8,3,"div",9)(14,Q,2,0,"div",10),t()()()()),e&2&&(o(7),d("ngIf",m.current()),o(),d("ngIf",!m.current()),o(5),d("ngForOf",m.waiting()),o(),d("ngIf",m.waiting().length===0))},dependencies:[I,h,y],encapsulation:2})};export{w as QueueDashboardComponent};
/**i18n:53b94fc8a584fb0d28b70d52d4e35388c882dec0cc47e2f71218c9ceef5b3998*/
