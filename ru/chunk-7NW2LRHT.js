import{a as I}from"./chunk-YLKL6K4Y.js";import{b as y}from"./chunk-XHCX4C35.js";import{b as Q}from"./chunk-Z5ZDWNJX.js";import{$a as f,Da as m,Hb as v,Ia as P,Ib as U,Kb as x,Ma as _,S,T,Va as a,Wa as o,Xa as u,Ya as p,Za as N,_a as r,ab as g,da as E,fb as A,gb as C,hb as b,ib as M,va as l}from"./chunk-M5L3L3OV.js";function $(n,i){n&1&&p(0,"div",19);}function R(n,i){if(n&1){let e=N();o(0,"button",15),f("click",function(){let s=S(e).$implicit,c=g();return T(c.selectedCategory.set(s.value));}),o(1,"span",16),C(2),u(),o(3,"div",17),_(4,$,1,0,"div",18),u()();}if(n&2){let e=i.$implicit,t=g();A("ring-2",t.selectedCategory()===e.value)("ring-medical-rose-500",t.selectedCategory()===e.value),l(2),b(e.label),l(),A("bg-medical-rose-500",t.selectedCategory()===e.value)("border-gray-300",t.selectedCategory()!==e.value),l(),a("ngIf",t.selectedCategory()===e.value);}}function h(n,i){n&1&&(o(0,"span"),r(1,2),u());}function k(n,i){n&1&&(o(0,"span"),r(1,3),u());}function w(n,i){if(n&1&&(o(0,"div",20)(1,"p",21),r(2,4),u(),o(3,"p",22),C(4),u()()),n&2){let e,t=g();l(4),M("#",(e=t.ticket())==null?null:e.sequenceNumber);}}var L=class n{constructor(i,e){this.http=i;this.configService=e;}categories=[{value:"Laser",label:"\u041B\u0430\u0437\u0435\u0440"},{value:"Botox",label:"\u0411\u043E\u0442\u043E\u043A\u0441"},{value:"Facials",label:"\u0423\u0445\u043E\u0434 \u0437\u0430 \u043B\u0438\u0446\u043E\u043C"},{value:"Consultation",label:"\u041A\u043E\u043D\u0441\u0443\u043B\u044C\u0442\u0430\u0446\u0438\u044F"}];selectedCategory=E("");isLoading=E(!1);ticket=E(null);joinQueue(){if(!this.selectedCategory())return;this.isLoading.set(!0);let i=this.configService.get("BACKEND_URL_ONLINE")+"/queue";this.http.post(i,{serviceCategory:this.selectedCategory()}).subscribe({next:e=>{this.ticket.set(e),this.isLoading.set(!1);},error:()=>{alert("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0432\u0441\u0442\u0430\u0442\u044C \u0432 \u043E\u0447\u0435\u0440\u0435\u0434\u044C. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0441\u043D\u043E\u0432\u0430."),this.isLoading.set(!1);}});}static ɵfac=function(e){return new(e||n)(m(y),m(I));};static ɵcmp=P({type:n,selectors:[["app-take-queue"]],decls:14,vars:5,consts:()=>{let i;i="\u0414\u043E\u0431\u0440\u043E \u043F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C \u0432 AAA Cosmetics";let e;e="\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0441\u043B\u0443\u0433\u0443, \u0447\u0442\u043E\u0431\u044B \u0432\u0441\u0442\u0430\u0442\u044C \u0432 \u043E\u0447\u0435\u0440\u0435\u0434\u044C";let t;t="\u0412\u0417\u042F\u0422\u042C \u0422\u0410\u041B\u041E\u041D";let s;s="\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430...";let c;return c="\u0412\u044B \u0432 \u043E\u0447\u0435\u0440\u0435\u0434\u0438!",[i,e,t,s,c,[1,"min-h-screen","bg-medical-rose-50","flex","flex-col","items-center","justify-center","p-6"],[1,"absolute","top-4","right-4"],[1,"bg-white","p-8","rounded-3xl","shadow-xl","max-w-sm","w-full","text-center"],[1,"text-2xl","font-serif","text-medical-rose-900","mb-2"],[1,"text-gray-500","mb-8"],[1,"space-y-3","mb-8"],["class","w-full p-4 rounded-xl bg-gray-50 hover:bg-medical-rose-50 transition-all text-left flex justify-between items-center group",3,"ring-2","ring-medical-rose-500","click",4,"ngFor","ngForOf"],[1,"w-full","bg-medical-rose-600","text-white","py-4","rounded-xl","font-bold","shadow-lg","active:scale-95","disabled:opacity-50","disabled:scale-100","transition-all",3,"click","disabled"],[4,"ngIf"],["class","mt-6 p-4 bg-green-50 text-green-700 rounded-xl border border-green-200 animate-fade-in",4,"ngIf"],[1,"w-full","p-4","rounded-xl","bg-gray-50","hover:bg-medical-rose-50","transition-all","text-left","flex","justify-between","items-center","group",3,"click"],[1,"font-medium","text-gray-700","group-hover:text-medical-rose-700"],[1,"w-5","h-5","rounded-full","border-2","flex","items-center","justify-center"],["class","w-2 h-2 bg-white rounded-full",4,"ngIf"],[1,"w-2","h-2","bg-white","rounded-full"],[1,"mt-6","p-4","bg-green-50","text-green-700","rounded-xl","border","border-green-200","animate-fade-in"],[1,"text-sm"],[1,"text-3xl","font-bold","mt-1"]];},template:function(e,t){e&1&&(o(0,"div",5)(1,"div",6),p(2,"app-language-switcher"),u(),o(3,"div",7)(4,"h2",8),r(5,0),u(),o(6,"p",9),r(7,1),u(),o(8,"div",10),_(9,R,5,10,"button",11),u(),o(10,"button",12),f("click",function(){return t.joinQueue();}),_(11,h,2,0,"span",13)(12,k,2,0,"span",13),u(),_(13,w,5,1,"div",14),u()()),e&2&&(l(9),a("ngForOf",t.categories),l(),a("disabled",!t.selectedCategory()||t.isLoading()),l(),a("ngIf",!t.isLoading()),l(),a("ngIf",t.isLoading()),l(),a("ngIf",t.ticket()));},dependencies:[x,v,U,Q],encapsulation:2});};export{L as TakeQueueComponent};/**i18n:b82b23be7f7338acfddc6e87193068a65d480bfebda2e4ddab7b7ca5af6f2821*/