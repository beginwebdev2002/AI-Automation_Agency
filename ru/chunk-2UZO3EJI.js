import{a as D,b as L,c as R,d as O}from"./chunk-BNDA7BSL.js";import{a as $}from"./chunk-MI5CZJWG.js";import{a as I}from"./chunk-PDNUM2DZ.js";import{b as H}from"./chunk-WIH25QAP.js";import{Ca as p,Eb as v,Fb as b,Gb as y,Ha as C,Hb as w,La as A,U as h,Ua as l,Va as n,Wa as o,Xa as m,Za as _,_a as u,da as c,db as f,eb as d,fb as M,gb as S,hb as E,ib as x,jb as N,lb as P,mb as T,ua as a}from"./chunk-LF5JYWEK.js";function B(s,i){if(s&1&&(n(0,"div",18)(1,"div",19),d(2),o(),n(3,"span",20),d(4),P(5,"date"),o()()),s&2){let e=i.$implicit;f("items-end",e.role==="user")("items-start",e.role==="bot"),a(),f("bg-medical-rose-500",e.role==="user")("text-white",e.role==="user")("bg-white",e.role==="bot")("text-gray-800",e.role==="bot"),a(),S(" ",e.text," "),a(2),M(T(5,14,e.time,"shortTime"));}}function F(s,i){s&1&&(n(0,"div",21),m(1,"div",22)(2,"div",23)(3,"div",24),o());}var k=class s{constructor(i,e){this.http=i;this.configService=e;}messages=c([{role:"bot",text:"Hello! I am your AI assistant. Ask me anything about our treatments.",time:new Date()}]);newMessage="";isLoading=c(!1);sendMessage(){if(!this.newMessage.trim())return;let i=this.newMessage;this.messages.update(t=>[...t,{role:"user",text:i,time:new Date()}]),this.newMessage="",this.isLoading.set(!0);let e=this.configService.get("BACKEND_URL_ONLINE")+"/chat";this.http.post(e,{message:i}).subscribe({next:t=>{this.messages.update(r=>[...r,{role:"bot",text:t.response,time:new Date()}]),this.isLoading.set(!1);},error:()=>{this.messages.update(t=>[...t,{role:"bot",text:"Sorry, I encountered an error.",time:new Date()}]),this.isLoading.set(!1);}});}static ɵfac=function(e){return new(e||s)(p(I),p($));};static ɵcmp=C({type:s,selectors:[["app-chat"]],decls:21,vars:4,consts:()=>{let i;i="Ask about treatments...";let e;e="Dr. Beauty AI";let t;return t="Online",[e,t,[1,"flex","flex-col","h-screen","bg-medical-rose-50"],[1,"bg-white","p-4","shadow-sm","flex","items-center","justify-between"],[1,"flex","items-center"],[1,"w-10","h-10","rounded-full","bg-medical-rose-100","flex","items-center","justify-center","mr-3"],[1,"text-2xl"],[1,"font-serif","text-lg","text-gray-900"],[1,"text-xs","text-green-500"],[1,"flex-1","overflow-y-auto","p-4","space-y-4"],["class","flex flex-col",3,"items-end","items-start",4,"ngFor","ngForOf"],["class","flex items-center space-x-2 text-gray-400 text-sm ml-2",4,"ngIf"],[1,"p-4","bg-white","border-t","border-gray-100"],[1,"flex","gap-2"],["placeholder",i,1,"flex-1","bg-gray-50","border-0","rounded-xl","px-4","py-3","focus:ring-2","focus:ring-medical-rose-500","transition-all",3,"ngModelChange","keyup.enter","ngModel"],[1,"bg-medical-rose-500","text-white","p-3","rounded-xl","hover:bg-medical-rose-600","disabled:opacity-50","transition-colors",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"],[1,"flex","flex-col"],[1,"max-w-[80%]","p-3","rounded-2xl","shadow-sm","text-sm"],[1,"text-[10px]","text-gray-400","mt-1"],[1,"flex","items-center","space-x-2","text-gray-400","text-sm","ml-2"],[1,"w-2","h-2","bg-gray-400","rounded-full","animate-bounce"],[1,"w-2","h-2","bg-gray-400","rounded-full","animate-bounce","delay-75"],[1,"w-2","h-2","bg-gray-400","rounded-full","animate-bounce","delay-150"]];},template:function(e,t){e&1&&(n(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"span",6),d(5,"\u{1F916}"),o()(),n(6,"div")(7,"h1",7),_(8,0),o(),n(9,"p",8),_(10,1),o()()(),m(11,"app-language-switcher"),o(),n(12,"div",9),A(13,B,6,17,"div",10)(14,F,4,0,"div",11),o(),n(15,"div",12)(16,"div",13)(17,"input",14),N("ngModelChange",function(g){return x(t.newMessage,g)||(t.newMessage=g),g;}),u("keyup.enter",function(){return t.sendMessage();}),o(),n(18,"button",15),u("click",function(){return t.sendMessage();}),h(),n(19,"svg",16),m(20,"path",17),o()()()()()),e&2&&(a(13),l("ngForOf",t.messages()),a(),l("ngIf",t.isLoading()),a(3),E("ngModel",t.newMessage),a(),l("disabled",!t.newMessage.trim()||t.isLoading()));},dependencies:[w,v,b,O,D,L,R,H,y],encapsulation:2});};export{k as ChatComponent};/**i18n:0aa8b7955aaa468e194734eb6a4a4ee16381a8cedba99aa173311fec5f57df07*/