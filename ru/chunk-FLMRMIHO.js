import{a as E}from"./chunk-5ADHOQEW.js";import{a as S}from"./chunk-LLPFTJ5J.js";import{Da as v,Ha as c,Na as s,Oa as n,Pa as o,Qa as C,Ra as _,S as x,Sa as p,T as b,Ta as m,Ua as g,Va as l,Wa as y,Xa as h,ca as d,qa as a,rb as k,sb as w,ub as T,ya as u}from"./chunk-UIWLMSS7.js";function Q(i,r){i&1&&C(0,"div",13)}function L(i,r){if(i&1){let e=_();n(0,"button",9),p("click",function(){let f=x(e).$implicit,N=m();return b(N.selectedCategory.set(f))}),n(1,"span",10),l(2),o(),n(3,"div",11),c(4,Q,1,0,"div",12),o()()}if(i&2){let e=r.$implicit,t=m();g("ring-2",t.selectedCategory()===e)("ring-medical-rose-500",t.selectedCategory()===e),a(2),y(e),a(),g("bg-medical-rose-500",t.selectedCategory()===e)("border-gray-300",t.selectedCategory()!==e),a(),s("ngIf",t.selectedCategory()===e)}}function j(i,r){i&1&&(n(0,"span"),l(1,"TAKE A NUMBER"),o())}function q(i,r){i&1&&(n(0,"span"),l(1,"Processing..."),o())}function D(i,r){if(i&1&&(n(0,"div",14)(1,"p",15),l(2,"You are in queue!"),o(),n(3,"p",16),l(4),o()()),i&2){let e,t=m();a(4),h("#",(e=t.ticket())==null?null:e.sequenceNumber)}}var I=class i{constructor(r,e){this.http=r;this.configService=e}categories=["Laser","Botox","Facials","Consultation"];selectedCategory=d("");isLoading=d(!1);ticket=d(null);joinQueue(){if(!this.selectedCategory())return;this.isLoading.set(!0);let r=this.configService.get("BACKEND_URL_ONLINE")+"/queue";this.http.post(r,{serviceCategory:this.selectedCategory()}).subscribe({next:e=>{this.ticket.set(e),this.isLoading.set(!1)},error:()=>{alert("Failed to join queue. Please try again."),this.isLoading.set(!1)}})}static \u0275fac=function(e){return new(e||i)(u(S),u(E))};static \u0275cmp=v({type:i,selectors:[["app-take-queue"]],decls:12,vars:5,consts:[[1,"min-h-screen","bg-medical-rose-50","flex","flex-col","items-center","justify-center","p-6"],[1,"bg-white","p-8","rounded-3xl","shadow-xl","max-w-sm","w-full","text-center"],[1,"text-2xl","font-serif","text-medical-rose-900","mb-2"],[1,"text-gray-500","mb-8"],[1,"space-y-3","mb-8"],["class","w-full p-4 rounded-xl bg-gray-50 hover:bg-medical-rose-50 transition-all text-left flex justify-between items-center group",3,"ring-2","ring-medical-rose-500","click",4,"ngFor","ngForOf"],[1,"w-full","bg-medical-rose-600","text-white","py-4","rounded-xl","font-bold","shadow-lg","active:scale-95","disabled:opacity-50","disabled:scale-100","transition-all",3,"click","disabled"],[4,"ngIf"],["class","mt-6 p-4 bg-green-50 text-green-700 rounded-xl border border-green-200 animate-fade-in",4,"ngIf"],[1,"w-full","p-4","rounded-xl","bg-gray-50","hover:bg-medical-rose-50","transition-all","text-left","flex","justify-between","items-center","group",3,"click"],[1,"font-medium","text-gray-700","group-hover:text-medical-rose-700"],[1,"w-5","h-5","rounded-full","border-2","flex","items-center","justify-center"],["class","w-2 h-2 bg-white rounded-full",4,"ngIf"],[1,"w-2","h-2","bg-white","rounded-full"],[1,"mt-6","p-4","bg-green-50","text-green-700","rounded-xl","border","border-green-200","animate-fade-in"],[1,"text-sm"],[1,"text-3xl","font-bold","mt-1"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),l(3,"Welcome to AAA Cosmetics"),o(),n(4,"p",3),l(5,"Please select a service to join the queue"),o(),n(6,"div",4),c(7,L,5,10,"button",5),o(),n(8,"button",6),p("click",function(){return t.joinQueue()}),c(9,j,2,0,"span",7)(10,q,2,0,"span",7),o(),c(11,D,5,1,"div",8),o()()),e&2&&(a(7),s("ngForOf",t.categories),a(),s("disabled",!t.selectedCategory()||t.isLoading()),a(),s("ngIf",!t.isLoading()),a(),s("ngIf",t.isLoading()),a(),s("ngIf",t.ticket()))},dependencies:[T,k,w],encapsulation:2})};export{I as TakeQueueComponent};
/**i18n:53b94fc8a584fb0d28b70d52d4e35388c882dec0cc47e2f71218c9ceef5b3998*/
