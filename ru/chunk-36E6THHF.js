import{a as D}from"./chunk-HBUDIXFC.js";import{Da as f,Db as C,Ma as h,Na as k,Oa as E,Pa as S,Qa as w,Ra as M,S as p,Sa as o,T as m,Ta as n,Ua as x,Xa as v,_a as _,ab as s,da as g,fa as T,hb as B,ib as l,kb as d,pb as b,ta as c}from"./chunk-TGJB5O5D.js";var F=[{id:"1",name:"\u041B\u0430\u0437\u0435\u0440 \u0432\u0441\u0435\u0433\u043E \u043B\u0438\u0446\u0430",category:"\u041B\u0430\u0437\u0435\u0440",price:250,duration:30},{id:"2",name:"\u041B\u0430\u0437\u0435\u0440 \u043F\u043E\u0434\u043C\u044B\u0448\u0435\u043A",category:"\u041B\u0430\u0437\u0435\u0440",price:100,duration:15},{id:"3",name:"\u0411\u043E\u0442\u043E\u043A\u0441 \u043B\u0431\u0430",category:"\u0411\u043E\u0442\u043E\u043A\u0441",price:1200,duration:45},{id:"4",name:"\u0427\u0438\u0441\u0442\u043A\u0430 HydraFacial",category:"\u0423\u0445\u043E\u0434 \u0437\u0430 \u043B\u0438\u0446\u043E\u043C",price:400,duration:60}];var V=(i,t)=>t.id;function A(i,t){if(i&1){let e=v();o(0,"button",6),_("click",function(){let a=p(e).$implicit,u=s();return m(u.selectedCategory.set(a));}),l(1),n();}if(i&2){let e=t.$implicit,r=s();B(r.selectedCategory()===e?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-surface-50 text-surface-600 hover:bg-surface-100"),c(),d(" ",e," ");}}function N(i,t){i&1&&(o(0,"div",12),x(1,"i",13),n());}function W(i,t){if(i&1){let e=v();o(0,"div",7),_("click",function(){let a=p(e).$implicit,u=s();return m(u.toggleService(a));})("keydown.enter",function(){let a=p(e).$implicit,u=s();return m(u.toggleService(a));}),o(1,"div",8)(2,"div")(3,"h3",9),l(4),n(),o(5,"p",10),l(6),n()(),o(7,"span",11),l(8),n()(),h(9,N,2,0,"div",12),n();}if(i&2){let e=t.$implicit,r=s();B(r.isSelected(e)?"border-primary-500 ring-1 ring-primary-500 bg-primary-50/50":"border-transparent hover:border-primary-200 bg-white"),c(4),d(" ",e.name," "),c(2),d(" ",e.duration," \u043C\u0438\u043D "),c(2),d("",e.price," TJS"),c(),k(r.isSelected(e)?9:-1);}}function P(i,t){if(i&1){let e=v();o(0,"div",5)(1,"app-button",14),_("clicked",function(){p(e);let a=s();return m(a.confirmBooking());}),o(2,"div",15)(3,"span"),l(4,"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C"),n(),o(5,"span",16),l(6),n()()()();}if(i&2){let e=s();c(),M("fullWidth",!0),c(5),d("",e.totalPrice()," TJS");}}var y=class i{categories=["\u0412\u0441\u0435","\u041B\u0430\u0437\u0435\u0440","\u0411\u043E\u0442\u043E\u043A\u0441","\u0423\u0445\u043E\u0434 \u0437\u0430 \u043B\u0438\u0446\u043E\u043C"];selectedCategory=g("\u0412\u0441\u0435");services=g(F);cart=g([]);filteredServices=b(()=>{let t=this.selectedCategory();return t==="\u0412\u0441\u0435"?this.services():this.services().filter(e=>e.category===t);});totalPrice=b(()=>this.cart().reduce((t,e)=>t+e.price,0));selectedIds=b(()=>new Set(this.cart().map(t=>t.id)));constructor(){T(()=>{typeof Telegram<"u"&&Telegram.WebApp&&(this.cart().length>0?(Telegram.WebApp.MainButton.setText(`\u041E\u041F\u041B\u0410\u0422\u0418\u0422\u042C ${this.totalPrice()} TJS`),Telegram.WebApp.MainButton.show(),Telegram.WebApp.MainButton.onClick(()=>this.confirmBooking())):(Telegram.WebApp.MainButton.hide(),Telegram.WebApp.MainButton.offClick(()=>this.confirmBooking())));});}toggleService(t){this.cart.update(e=>e.find(a=>a.id===t.id)?e.filter(a=>a.id!==t.id):[...e,t]);}isSelected(t){return this.selectedIds().has(t.id);}confirmBooking(){let t={items:this.cart(),total:this.totalPrice()};typeof Telegram<"u"&&Telegram.WebApp?Telegram.WebApp.sendData(JSON.stringify(t)):(console.log("Booking Confirmed:",t),alert(`Booking Confirmed! Total: ${this.totalPrice()} TJS`));}static ɵfac=function(e){return new(e||i)();};static ɵcmp=f({type:i,selectors:[["app-booking-list"]],decls:8,vars:1,consts:[[1,"space-y-6"],[1,"flex","gap-2","overflow-x-auto","pb-2","scrollbar-hide"],[1,"px-5","py-2.5","rounded-full","text-sm","font-medium","whitespace-nowrap","transition-all","duration-300",3,"class"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["tabindex","0","role","button",1,"relative","p-4","rounded-xl","border","transition-all","duration-300","cursor-pointer","group","shadow-sm","hover:shadow-md","outline-none","focus:ring-2","focus:ring-primary-500",3,"class"],[1,"fixed","bottom-6","left-4","right-4","md:hidden","z-50"],[1,"px-5","py-2.5","rounded-full","text-sm","font-medium","whitespace-nowrap","transition-all","duration-300",3,"click"],["tabindex","0","role","button",1,"relative","p-4","rounded-xl","border","transition-all","duration-300","cursor-pointer","group","shadow-sm","hover:shadow-md","outline-none","focus:ring-2","focus:ring-primary-500",3,"click","keydown.enter"],[1,"flex","justify-between","items-start"],[1,"font-bold","text-surface-900","group-hover:text-primary-700","transition-colors"],[1,"text-sm","text-surface-500","mt-1"],[1,"font-serif","font-bold","text-lg","text-primary-600"],[1,"absolute","top-3","right-3","text-primary-500"],[1,"fas","fa-check-circle","text-xl"],[1,"shadow-xl","shadow-primary-900/20",3,"clicked","fullWidth"],[1,"flex","justify-between","items-center","w-full"],[1,"bg-white/20","px-2","py-0.5","rounded","text-sm"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1),S(2,A,2,3,"button",2,E),n(),o(4,"div",3),S(5,W,10,6,"div",4,V),n(),h(7,P,7,2,"div",5),n()),e&2&&(c(2),w(r.categories),c(3),w(r.filteredServices()),c(2),k(r.cart().length>0?7:-1));},dependencies:[C,D],encapsulation:2});};var $=class i{static ɵfac=function(e){return new(e||i)();};static ɵcmp=f({type:i,selectors:[["app-booking-page"]],decls:7,vars:0,consts:[[1,"container","mx-auto","px-4","py-6","max-w-4xl"],[1,"mb-8","text-center"],[1,"text-3xl","font-serif","font-bold","text-surface-900","mb-2"],[1,"text-surface-500"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),l(3," \u0417\u0430\u043F\u0438\u0441\u044C \u043D\u0430 \u043F\u0440\u0438\u0435\u043C "),n(),o(4,"p",3),l(5," \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0441\u043B\u0443\u0433\u0438 \u0434\u043B\u044F \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u0432\u0430\u0448\u0435\u0433\u043E \u0438\u0434\u0435\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u043E\u0431\u0440\u0430\u0437\u0430 "),n()(),x(6,"app-booking-list"),n());},dependencies:[C,y],encapsulation:2});};export{$ as BookingComponent};/**i18n:0b6fd49bb65f7e88f0f2572f05c3922be7c483ff79581c03ab52fe500b2c261a*/